{"ast":null,"code":"import React,{useState}from\"react\";import{saveFormData}from\"../services/api\";// Correctly import the named export\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ClozeForm=()=>{const[questionText,setQuestionText]=useState(\"\");const[blanks,setBlanks]=useState([]);const handleTextSelection=()=>{const textarea=document.getElementById(\"questionTextarea\");const start=textarea.selectionStart;// Start index of selected text\nconst end=textarea.selectionEnd;// End index of selected text\nif(start===end){alert(\"Please select some text to make it a blank.\");return;}const selectedText=questionText.substring(start,end);setBlanks([...blanks,{text:selectedText,startIndex:start,endIndex:end}]);alert(`Blank added: \"${selectedText}\"`);};const handleSaveQuestion=async()=>{if(!questionText.trim()){alert(\"Question text cannot be empty.\");return;}if(blanks.length===0){alert(\"Please add at least one blank.\");return;}const questionData={questionText,blanks};try{await saveFormData(questionData);// Use the correct function to save the data\nalert(\"Question saved successfully!\");setQuestionText(\"\");setBlanks([]);}catch(error){console.error(\"Error saving question:\",error);alert(\"Failed to save the question.\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded shadow\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Cloze Question Builder\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"questionTextarea\",value:questionText,onChange:e=>setQuestionText(e.target.value),className:\"w-full p-2 border rounded mb-4\",rows:\"5\",placeholder:\"Type your question here...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTextSelection,className:\"mr-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\",children:\"Underline Selected Text\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSaveQuestion,className:\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\",children:\"Save Question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-bold\",children:\"Blanks:\"}),blanks.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"No blanks added yet.\"}):/*#__PURE__*/_jsx(\"ul\",{className:\"list-disc pl-6\",children:blanks.map((blank,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:blank.text}),\" (Start: \",blank.startIndex,\", End: \",blank.endIndex,\")\"]},index))})]})]});};export default ClozeForm;","map":{"version":3,"names":["React","useState","saveFormData","jsx","_jsx","jsxs","_jsxs","ClozeForm","questionText","setQuestionText","blanks","setBlanks","handleTextSelection","textarea","document","getElementById","start","selectionStart","end","selectionEnd","alert","selectedText","substring","text","startIndex","endIndex","handleSaveQuestion","trim","length","questionData","error","console","className","children","id","value","onChange","e","target","rows","placeholder","onClick","map","blank","index"],"sources":["K:/form-builder/frontend/src/components/ClozeForm.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { saveFormData } from \"../services/api\"; // Correctly import the named export\r\n\r\nconst ClozeForm = () => {\r\n  const [questionText, setQuestionText] = useState(\"\");\r\n  const [blanks, setBlanks] = useState([]);\r\n\r\n  const handleTextSelection = () => {\r\n  const textarea = document.getElementById(\"questionTextarea\");\r\n  const start = textarea.selectionStart; // Start index of selected text\r\n  const end = textarea.selectionEnd;    // End index of selected text\r\n\r\n  if (start === end) {\r\n    alert(\"Please select some text to make it a blank.\");\r\n    return;\r\n  }\r\n\r\n  const selectedText = questionText.substring(start, end);\r\n  setBlanks([...blanks, { text: selectedText, startIndex: start, endIndex: end }]);\r\n  alert(`Blank added: \"${selectedText}\"`);\r\n};\r\n\r\n\r\n  const handleSaveQuestion = async () => {\r\n    if (!questionText.trim()) {\r\n      alert(\"Question text cannot be empty.\");\r\n      return;\r\n    }\r\n\r\n    if (blanks.length === 0) {\r\n      alert(\"Please add at least one blank.\");\r\n      return;\r\n    }\r\n\r\n    const questionData = {\r\n      questionText,\r\n      blanks,\r\n    };\r\n\r\n    try {\r\n      await saveFormData(questionData); // Use the correct function to save the data\r\n      alert(\"Question saved successfully!\");\r\n      setQuestionText(\"\");\r\n      setBlanks([]);\r\n    } catch (error) {\r\n      console.error(\"Error saving question:\", error);\r\n      alert(\"Failed to save the question.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 border rounded shadow\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Cloze Question Builder</h2>\r\n      <textarea\r\n        id=\"questionTextarea\"\r\n        value={questionText}\r\n        onChange={(e) => setQuestionText(e.target.value)}\r\n        className=\"w-full p-2 border rounded mb-4\"\r\n        rows=\"5\"\r\n        placeholder=\"Type your question here...\"\r\n      ></textarea>\r\n\r\n      <button\r\n        onClick={handleTextSelection}\r\n        className=\"mr-2 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\r\n      >\r\n        Underline Selected Text\r\n      </button>\r\n      <button\r\n        onClick={handleSaveQuestion}\r\n        className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600\"\r\n      >\r\n        Save Question\r\n      </button>\r\n\r\n      <div className=\"mt-4\">\r\n  <h3 className=\"text-lg font-bold\">Blanks:</h3>\r\n  {blanks.length === 0 ? (\r\n    <p>No blanks added yet.</p>\r\n  ) : (\r\n    <ul className=\"list-disc pl-6\">\r\n      {blanks.map((blank, index) => (\r\n        <li key={index}>\r\n          <strong>{blank.text}</strong> (Start: {blank.startIndex}, End: {blank.endIndex})\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )}\r\n</div>\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClozeForm;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
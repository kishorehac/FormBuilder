{"ast":null,"code":"import React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CategorizedForm=_ref=>{let{addQuestion,formData}=_ref;const[questionText,setQuestionText]=useState('');const[categories,setCategories]=useState([{name:'',items:[]}]);const[options,setOptions]=useState(['']);const[newOption,setNewOption]=useState('');const[newCategory,setNewCategory]=useState('');useEffect(()=>{// If formData contains a categorized question, set its data to the form\nif(formData&&formData.length>0){const categorizedQuestion=formData.find(question=>question.type==='categorized');if(categorizedQuestion){const{categories,options}=categorizedQuestion.data;setCategories(categories.map(category=>({name:category,items:[]})));setOptions(options);}}},[formData]);// Handle text formatting (Bold/Italic)\nconst handleStyle=style=>{document.execCommand(style,false,null);};const handleQuestionChange=e=>{setQuestionText(e.currentTarget.innerHTML);// Store the formatted HTML content\n};// Add new category\nconst addCategory=()=>{setCategories([...categories,{name:newCategory,items:[]}]);setNewCategory('');};// Remove category\nconst removeCategory=index=>{setCategories(categories.filter((_,i)=>i!==index));};// Add new option\nconst addOption=()=>{setOptions([...options,newOption]);setNewOption('');};// Remove option\nconst removeOption=index=>{setOptions(options.filter((_,i)=>i!==index));};// Save the question\nconst handleSave=()=>{const question={type:'categorized',data:{questionText,categories,options}};addQuestion(question);};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border rounded shadow-md mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Categorized Question\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Question Text\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStyle('bold'),className:\"px-4 py-2 bg-gray-200 rounded\",children:\"Bold\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStyle('italic'),className:\"px-4 py-2 bg-gray-200 rounded\",children:\"Italic\"})]}),/*#__PURE__*/_jsx(\"div\",{contentEditable:true,onInput:handleQuestionChange,className:\"border rounded p-2\",style:{minHeight:'50px',outline:'none'}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Categories\"}),categories.map((category,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:category.name,onChange:e=>{const updatedCategories=[...categories];updatedCategories[index].name=e.target.value;setCategories(updatedCategories);},className:\"border rounded p-2 flex-grow\",placeholder:\"Category Name\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeCategory(index),className:\"px-3 py-2 bg-red-500 text-white rounded\",children:\"Delete\"})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newCategory,onChange:e=>setNewCategory(e.target.value),placeholder:\"New Category\",className:\"border rounded p-2 flex-grow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addCategory,className:\"px-4 py-2 bg-blue-500 text-white rounded\",children:\"Add\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"Options\"}),options.map((option,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:option,onChange:e=>{const updatedOptions=[...options];updatedOptions[index]=e.target.value;setOptions(updatedOptions);},className:\"border rounded p-2 flex-grow\",placeholder:\"Option\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeOption(index),className:\"px-3 py-2 bg-red-500 text-white rounded\",children:\"Delete\"})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newOption,onChange:e=>setNewOption(e.target.value),placeholder:\"New Option\",className:\"border rounded p-2 flex-grow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addOption,className:\"px-4 py-2 bg-blue-500 text-white rounded\",children:\"Add\"})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSave,className:\"mt-4 px-6 py-2 bg-green-500 text-white rounded\",children:\"Save Question\"})]});};export default CategorizedForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","CategorizedForm","_ref","addQuestion","formData","questionText","setQuestionText","categories","setCategories","name","items","options","setOptions","newOption","setNewOption","newCategory","setNewCategory","length","categorizedQuestion","find","question","type","data","map","category","handleStyle","style","document","execCommand","handleQuestionChange","e","currentTarget","innerHTML","addCategory","removeCategory","index","filter","_","i","addOption","removeOption","handleSave","className","children","onClick","contentEditable","onInput","minHeight","outline","value","onChange","updatedCategories","target","placeholder","option","updatedOptions"],"sources":["K:/form-builder/frontend/src/components/CategorizedForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst CategorizedForm = ({ addQuestion, formData }) => {\r\n  const [questionText, setQuestionText] = useState('');\r\n  const [categories, setCategories] = useState([{ name: '', items: [] }]);\r\n  const [options, setOptions] = useState(['']);\r\n  const [newOption, setNewOption] = useState('');\r\n  const [newCategory, setNewCategory] = useState('');\r\n\r\n  useEffect(() => {\r\n    // If formData contains a categorized question, set its data to the form\r\n    if (formData && formData.length > 0) {\r\n      const categorizedQuestion = formData.find((question) => question.type === 'categorized');\r\n      if (categorizedQuestion) {\r\n        const { categories, options } = categorizedQuestion.data;\r\n        setCategories(categories.map((category) => ({ name: category, items: [] })));\r\n        setOptions(options);\r\n      }\r\n    }\r\n  }, [formData]);\r\n\r\n  // Handle text formatting (Bold/Italic)\r\n  const handleStyle = (style) => {\r\n    document.execCommand(style, false, null);\r\n  };\r\n\r\n  const handleQuestionChange = (e) => {\r\n    setQuestionText(e.currentTarget.innerHTML); // Store the formatted HTML content\r\n  };\r\n\r\n  // Add new category\r\n  const addCategory = () => {\r\n    setCategories([...categories, { name: newCategory, items: [] }]);\r\n    setNewCategory('');\r\n  };\r\n\r\n  // Remove category\r\n  const removeCategory = (index) => {\r\n    setCategories(categories.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // Add new option\r\n  const addOption = () => {\r\n    setOptions([...options, newOption]);\r\n    setNewOption('');\r\n  };\r\n\r\n  // Remove option\r\n  const removeOption = (index) => {\r\n    setOptions(options.filter((_, i) => i !== index));\r\n  };\r\n\r\n  // Save the question\r\n  const handleSave = () => {\r\n    const question = {\r\n      type: 'categorized',\r\n      data: {\r\n        questionText,\r\n        categories,\r\n        options,\r\n      },\r\n    };\r\n    addQuestion(question);\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 border rounded shadow-md mb-6\">\r\n      <h2 className=\"text-xl font-bold mb-4\">Categorized Question</h2>\r\n\r\n      {/* Question Text Editor */}\r\n      <div>\r\n        <h3 className=\"font-semibold mb-2\">Question Text</h3>\r\n        <div className=\"flex gap-2 mb-2\">\r\n          <button\r\n            onClick={() => handleStyle('bold')}\r\n            className=\"px-4 py-2 bg-gray-200 rounded\"\r\n          >\r\n            Bold\r\n          </button>\r\n          <button\r\n            onClick={() => handleStyle('italic')}\r\n            className=\"px-4 py-2 bg-gray-200 rounded\"\r\n          >\r\n            Italic\r\n          </button>\r\n        </div>\r\n        <div\r\n          contentEditable\r\n          onInput={handleQuestionChange}\r\n          className=\"border rounded p-2\"\r\n          style={{\r\n            minHeight: '50px',\r\n            outline: 'none',\r\n          }}\r\n        ></div>\r\n      </div>\r\n\r\n      {/* Categories */}\r\n      <div className=\"mt-4\">\r\n        <h3 className=\"font-semibold mb-2\">Categories</h3>\r\n        {categories.map((category, index) => (\r\n          <div key={index} className=\"flex items-center gap-2 mb-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={category.name}\r\n              onChange={(e) => {\r\n                const updatedCategories = [...categories];\r\n                updatedCategories[index].name = e.target.value;\r\n                setCategories(updatedCategories);\r\n              }}\r\n              className=\"border rounded p-2 flex-grow\"\r\n              placeholder=\"Category Name\"\r\n            />\r\n            <button\r\n              onClick={() => removeCategory(index)}\r\n              className=\"px-3 py-2 bg-red-500 text-white rounded\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        ))}\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            value={newCategory}\r\n            onChange={(e) => setNewCategory(e.target.value)}\r\n            placeholder=\"New Category\"\r\n            className=\"border rounded p-2 flex-grow\"\r\n          />\r\n          <button\r\n            onClick={addCategory}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded\"\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Options */}\r\n      <div className=\"mt-4\">\r\n        <h3 className=\"font-semibold mb-2\">Options</h3>\r\n        {options.map((option, index) => (\r\n          <div key={index} className=\"flex items-center gap-2 mb-2\">\r\n            <input\r\n              type=\"text\"\r\n              value={option}\r\n              onChange={(e) => {\r\n                const updatedOptions = [...options];\r\n                updatedOptions[index] = e.target.value;\r\n                setOptions(updatedOptions);\r\n              }}\r\n              className=\"border rounded p-2 flex-grow\"\r\n              placeholder=\"Option\"\r\n            />\r\n            <button\r\n              onClick={() => removeOption(index)}\r\n              className=\"px-3 py-2 bg-red-500 text-white rounded\"\r\n            >\r\n              Delete\r\n            </button>\r\n          </div>\r\n        ))}\r\n        <div className=\"flex gap-2\">\r\n          <input\r\n            type=\"text\"\r\n            value={newOption}\r\n            onChange={(e) => setNewOption(e.target.value)}\r\n            placeholder=\"New Option\"\r\n            className=\"border rounded p-2 flex-grow\"\r\n          />\r\n          <button\r\n            onClick={addOption}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded\"\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Save Button */}\r\n      <button\r\n        onClick={handleSave}\r\n        className=\"mt-4 px-6 py-2 bg-green-500 text-white rounded\"\r\n      >\r\n        Save Question\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategorizedForm;\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}